<div
  class="product-detail-page section-gap bg-white"
  *ngIf="detailData"
  style="padding-bottom: 0; padding-top: 1rem"
>
  <div class="container">
    <div fxLayout="row wrap" fxLayoutAlign="center center" class="col-gap">
      <div
        fxFlex.xs="100"
        fxFlex.sm="100"
        fxFlex.md="90"
        fxFlex.lg="80"
        fxFlex.xl="90"
      >
        <div fxLayout="row wrap" class="col-gap position-relative">
          <div
            fxFlex.xs="100"
            fxFlex.sm="100"
            fxFlex.md="50"
            fxFlex.lg="50"
            fxFlex.xl="50"
          >
            <div fxLayout="row wrap">
              <div
                fxFlex.xs="85"
                fxFlex.sm="85"
                fxFlex.md="85"
                fxFlex.lg="85"
                fxFlex.xl="85"
                class="relative"
                *ngIf="mainImgPath"
              >
                <image-zoom
                  [imgSrc]="mainImgPath"
                  imgStyle="width:auto; height:auto;"
                  resultStyle="background-repeat: no-repeat; z-index: 2; position:absolute;
                                   -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
                                    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); top: 0;left: 100%;"
                  lensStyle="width:100px; height:100px"
                  containerStyle=""
                >
                </image-zoom>
              </div>
            </div>
          </div>
          <div
            fxFlex.xs="100"
            fxFlex.sm="100"
            fxFlex.md="50"
            fxFlex.lg="50"
            fxFlex.xl="50"
          >
            <div class="product-detail-content">
              <h2>{{ detailData?.name }}</h2>
              <div class="product-detail-price">
                <h5 class="accent-color mb-0" *ngIf="detailData.isAuctioned">
                  Oferta Más Alta
                </h5>
                <h5 class="accent-color mb-0" *ngIf="!detailData.isAuctioned">
                  Precio base
                </h5>
                <h4 class="accent-color" style="font-weight: 600">
                  {{ detailData?.price | currency : detailData.currency }}
                </h4>
              </div>
              <div
                fxLayout="row"
                fxLayoutAlign="space-between center"
                fxLayoutGap="10px"
              >
                <div fxFlex="60">
                  <mini-timer-count
                    [dateTime]="counterDateTime"
                    [showCalendar]="true"
                    [message]="detailData.isAuctioned ? 'Cierra' : 'Inicia'"
                  ></mini-timer-count>
                </div>
                <div fxFlex="40" class="text-right">
                  <button
                    *ngIf="!showAmountInput"
                    mat-raised-button
                    color="primary"
                    class="button-lg mr-3"
                    (click)="toggleAmountInput()"
                  >
                    Mejorar oferta
                  </button>

                  <div
                    *ngIf="showAmountInput"
                    fxLayout="column" fxLayoutAlign="start stretch" style="width: auto;"
                  >
                    <mat-form-field style="width: 100%;">
                      <input
                        matInput
                        placeholder="Monto"
                        type="number"
                        [(ngModel)]="customAmount"
                      />
                    </mat-form-field>
                    <button
                      mat-raised-button
                      color="primary"
                      style="width: 100%;"
                      (click)="confirmAmount()"
                    >
                      OK
                    </button>
                  </div>
                </div>
              </div>
              <ul class="no-style mb-4">
                <li>
                  <span class="font-medium"> Availablity </span>:
                  <span *ngIf="detailData?.stock > 0">En Stock</span>
                  <span *ngIf="detailData?.stock === 0">Sin Stock</span>
                </li>
                <li>
                  <span class="font-medium">Código de Producto </span>:
                  {{ detailData?.id }}
                </li>
                <li>
                  <span class="font-medium">Categoría</span>:
                  {{ detailData?.category.name }}
                </li>
              </ul>
              <div class="short-des">
                <p style="text-align: justify">
                  {{ detailData?.description }}. Producto cuidadosamente
                  seleccionado por ECOMAQ para brindarte calidad, resistencia y
                  funcionalidad en cada proyecto de construcción. Fabricado con
                  materiales de alto rendimiento, es ideal para profesionales
                  del rubro y usuarios que buscan soluciones duraderas y
                  confiables.
                </p>
              </div>
              <div class="mb-4">
                <a
                  href="javascript:void(0)"
                  class="text-underline"
                  (click)="showTechnicalSheet(detailData)"
                >
                  Ver ficha técnica</a
                >
              </div>
              <div fxLayoutGap="30px" class="mb-3 select-group">
                <mat-form-field>
                  <mat-select
                    placeholder="Quantity"
                    (selectionChange)="calculatePrice(detailData, $event.value)"
                  >
                    <ng-container *ngFor="let quantity of quantityArray">
                      <mat-option value="{{ quantity }}">{{
                        quantity
                      }}</mat-option>
                    </ng-container>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="mb-5 detail-btns">
                <button
                  mat-raised-button
                  color="accent"
                  class="button-lg mr-3"
                  (click)="addToCart(detailData)"
                >
                  Añadir al carrito
                </button>
                <button
                  class="button-lg"
                  mat-raised-button
                  (click)="buyNow(detailData)"
                >
                  Comprar ahora
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
